---
const { headline, bgimage } = Astro.props;
import Button from "../components/Button.astro";
---

<div style=`background-image: url(${bgimage});` class="image_container">
  <article class="copy_container">
    <h1 class="hero_headline">{headline}</h1>
    <article class="form_container">
      <form id="tilmelding" aria-label="form">
        <div class="form-column">
          <div aria-describedby="moede-dato">
            <div class="form-group">
              <label for="Dato">Hvornår vil du til møde?</label>
              <input
                aria-describedby="fejlbesked"
                type="datetime-local"
                id="dato"
                name="dato"
                required
              />
              <!-- <p id="fejlbesked" class="error-message">
                Udfyld venligst dette felt
              </p> -->
            </div>
          </div>

          <div class="form-group">
            <label for="efternavn">Efternavn</label>
            <input
              aria-describedby="fejlbesked"
              type="text"
              id="efternavn"
              name="efternavn"
              required
            />
            <!-- <p id="fejlbesked" class="error-message">
              Udfyld venligst dette felt
            </p> -->
          </div>

          <div class="form-group">
            <label for="Fornavn">Fornavn</label>
            <input
              aria-describedby="fejlbesked"
              type="text"
              id="Fornavn"
              name="Fornavn"
              required
            />
            <!-- <p id="fejlbesked" class="error-message">
              Udfyld venligst dette felt
            </p> -->
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input
              aria-describedby="fejlbesked"
              type="email"
              id="email"
              name="email"
            />
            <!-- <p id="fejlbesked" class="error-message">
            Ugyldigt input. En mailadresse skal bruge "@"
          </p> -->
          </div>

          <div class="form-group">
            <label for="telefonnummer">Telefonnummer</label>
            <input
              aria-describedby="fejlbesked"
              type="number"
              id="Telefonnummer"
              name="Telefonnummer"
            />
            <!-- <p id="fejlbesked" class="error-message">
            Ugyldigt input. En mailadresse skal bruge "@"
          </p> -->
          </div>
        </div>
        <div class="form-column">
          <details>
            <summary>Hvilken tur er du interesseret i?</summary>
            <ul>
              <li>
                <label
                  ><input
                    type="checkbox"
                    name="rejse"
                    value="rejse1"
                  />Det Indiske Ocean & Japan Eventyr</label
                >
              </li>
              <li>
                <label
                  ><input
                    type="checkbox"
                    name="rejse"
                    value="rejse2"
                  />Mellemamerika & Colombia</label
                >
              </li>
              <li>
                <label
                  ><input
                    type="checkbox"
                    name="rejse"
                    value="rejse3"
                  />Oceanien & Sydøstasien Rundrejse</label
                >
              </li>
              <li>
                <label
                  ><input
                    type="checkbox"
                    name="rejse"
                    value="rejse4"
                  />Syd- & Sydøstasien Rejsen</label
                >
              </li>
              <li>
                <label
                  ><input
                    type="checkbox"
                    name="rejse"
                    value="rejse5"
                  />Stillehavsparadiser & Japan</label
                >
              </li>
            </ul>
          </details>

          <p class="accept-header" aria-describedby="accepter-betingelser">Acceptér betingelser</p>

          <div class="form-group">
            <label for="accept-checkbox">
              <input
                type="checkbox"
                id="accept-checkbox"
                name="accept-checkbox"
              /> Ved tilmelding giver du os lov til at kontakte dig med påmindelser
              og opfølgning.</label
            >
          </div>

          <p class="consent-text" aria-describedby="accepter-betingelser">
            For at kunne tilmelde dig er vi nødt til at gemme og behandle dine
            personlige oplysninger. Hvis du samtykker til, at vi må gemme dine
            personlige oplysninger til dette formål, skal du sætte kryds i
            afkrydsningsfeltet nedenfor.
          </p>

          <div class="form-group">
            <label for="privatliv-checkbox">
              <input
                type="checkbox"
                id="privatliv-checkbox"
                name="privatliv-checkbox"
              /> Jeg har læst jeres privatlivspolitik og generelle bestemmelser og
              er indforstået med begge.</label
            >
          </div>
      
          <Button title="Tilmeld" variant="primary" class="form_button" />
        </div>
      </form>
    </article>
  </article>
</div>

<style>
  .image_container {
    width: 90rem;
    height: 45.9375rem;
    background:
      radial-gradient(
        50% 50% at 50% 50%,
        rgba(0, 0, 0, 0.1) 0%,
        rgba(0, 0, 0, 0) 100%
      ),
      rgba(0, 0, 0, 0.15);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .image_container h1 {
    margin: 0;
  }

  .image_container p {
    margin: 0;
  }

  .copy_container {
    padding-top: 5.75rem;
    width: 55.375rem;
    height: 17.625rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .hero_headline {
    color: #fff;
    text-align: center;
    font-family: "Dela Gothic One";
    font-size: 4rem;
    font-style: normal;
    font-weight: 400;
    line-height: 100%; /* 4rem */
  }

  .hero_byline {
    width: 38rem;
    color: #fff;
    text-align: center;
    font-family: Poppins;
    font-size: 1.125rem;
    font-style: normal;
    font-weight: 400;
    line-height: 140%; /* 1.575rem */
    letter-spacing: -0.0225rem;
  }

  .button_container {
    display: flex;
    flex-direction: row;
    gap: 1rem;
    width: 24.5rem;
    height: 3.5rem;
  }

  .highlight {
    color: #fff;
    font-family: Poppins;
    font-size: 1.125rem;
    font-style: normal;
    font-weight: 700;
    line-height: 140%;
    letter-spacing: -0.0225rem;
  }

  .dates_and_destinations_container {
    display: grid;
    grid-template-rows: 1fr 1fr;
  }

  .form_container {
    width: 43.25rem;
    height: 25.5rem;
    background-color: rgba(0, 0, 0, 0.227);
    padding: 2rem;
    backdrop-filter: blur(2px);
  }

  #tilmelding {
    display: grid;
    grid-template-columns: 1fr 1fr;
    column-gap: 4rem;
    row-gap: 2rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
  }



  .form-group label,
  details summary,
  details,
  p {
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
    color: white;
  }

  .form-group input:not([type="checkbox"]),
  .form-group select,
  .form-group textarea {
    width: 100%;
    height: 10px;
    border-radius: 5px; 
    border: 1px solid rgba(30, 30, 30, 0.439);
    background: rgb(255, 255, 255);
    color: black;
    padding: 12px 14px; 
    outline: none; /
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.441);
}

:global(input[type="checkbox"]) {
  appearance: none;
  -webkit-appearance: none;
  box-sizing: border-box;
  width: 1.1rem;
  height: 1.1rem;
  flex: 0 0 auto;
  border: 1px solid #ce5501;
  border-radius: 0;
  background: #fff;
  display: grid;
  place-content: center;
}

:global(input[type="checkbox"]:checked::after) {
  content: ""; /* pseudo-element for checkmark */
  width: 0.45rem;
  height: 0.25rem;
  border: 2px solid #ce5501;
  border-top: 0;
  border-left: 0;
  transform: rotate(45deg);
}

:global(button.form_button) {
  justify-self: end;
  align-self: end;
  width: auto;
  padding: 6px 12px;
  margin: 0;
  line-height: 1.2;
}

  .form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  border-color: #ce5501;
  box-shadow: 0 0 0 3px rgba(206,85,1,0.35);
  background: rgb(255, 255, 255);
}

  /* styler details/summary så det ligner en dropdown. undgår JS*/

  details { position: relative; display: block; width: 100%; }
details > summary { cursor: pointer; list-style: none; }
details > summary::-webkit-details-marker { display: none; }

details[open] > ul {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  width: 100%;
  min-width: 12rem;
  box-sizing: border-box;
  background: rgba(0,0,0,0.85);
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  box-shadow: 0 12px 30px rgba(0,0,0,0.35);
  z-index: 2;
}

details ul,
details li {
  list-style: none;
  margin: 0;
  padding: 0;
  width: 100%;
}



details li label {
  display: flex;
  align-items: center;
  justify-content: space-between; /* text left, checkbox right edge */
  gap: 0.5rem;
  width: 100%;
  font-size: 0.85rem;
}



details > summary {
  display: flex;
  align-items: center;
  width: 100%;
  margin-top: 30px;
  padding: 4px 4px; 
  border-radius: 5px;
  border: 1px solid rgba(30,30,30,0.439);
  background: #fff;
  color: black;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.441);
  cursor: pointer;

}
details > summary:hover {
  border-color: rgba(255,255,255,0.35);
  background: rgb(255, 255, 255);
}

details > summary:focus-visible {
  outline: none;
  border-color: #ce5501;
  box-shadow: 0 0 0 3px rgba(206,85,1,0.35);
}

details > summary::after {
  content: "▾";
  font-size: 0.9rem;
  margin-left: auto;
  opacity: 0.85;
  transition: transform 120ms ease;
}

details[open] > summary::after {
  transform: rotate(-180deg);
}

/* styler checkboxes */

label[for="accept-checkbox"], label[for="privatliv-checkbox"]{
  font-size: 0.5rem;
  line-height: 1.35;
   display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  column-gap: 0.5rem;
}


p.consent-text, p.accept-header {
  font-size: 0.8rem;
  line-height: 1.35;
  margin: 0.75rem 0 1rem;
}

.form-column:nth-of-type(1) {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.error-message {
  color: #ff4d4f;
  font-size: 0.75rem;
  margin: 0.15rem 0 0;
}

.form-column:nth-of-type(2) {
  display: flex;
  flex-direction: column;
   justify-content: space-between;
  gap: 1.25rem;
}


:root {
  --checkbox-size: 1.1rem;
}

input[type="checkbox"] {
  appearance: none;
  box-sizing: border-box;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  flex: 0 0 auto; 
  border: 1px solid #ce5501;  
  border-radius: 0;           
  background: #fff;
  display: grid;
  place-content: center;
}

input[type="checkbox"]:checked::after {
  content: "";
  width: calc(var(--checkbox-size) * 0.45);
  height: calc(var(--checkbox-size) * 0.25);
  border: 2px solid #ce5501;
   border-top: 0;
  border-right: 0;
   transform: rotate(-45deg);
}

</style>
